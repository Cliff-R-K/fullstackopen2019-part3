{"version":3,"sources":["components/Filter.jsx","components/PersonForm.jsx","components/Person.jsx","components/Persons.jsx","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","value","onChange","react_default","a","createElement","PersonForm","addPerson","newName","nameHandler","newNumber","numberHandler","onSubmit","type","Person","person","removePerson","style","margin","name","number","onClick","Persons","filter","persons","length","toLowerCase","includes","map","components_Person","key","id","baseURL","getAll","axios","get","then","response","data","create","Object","asyncToGenerator","regenerator_default","mark","_callee","newPerson","confirmation","index","wrap","_context","prev","next","sent","some","window","confirm","concat","find","p","findIndex","update","abrupt","post","push","stop","_x","apply","this","arguments","put","services_persons","remove","delete","Notification","message","className","App","_useState","useState","_useState2","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNumber","_useState7","_useState8","showFiltered","setFiltered","_useState9","class","_useState10","notificationMessage","setNotificationMessage","useEffect","phonebookService","storedPhonebook","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","console","log","setTimeout","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.f64e4e68.chunk.js","sourcesContent":["import React from 'react'\r\nconst Filter = ({value,onChange}) =>   \r\n<div>\r\nfilter shown with<input\r\n  value={value}\r\n  onChange={onChange}\r\n/>\r\n</div>\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, nameHandler,newNumber, numberHandler }) => \r\n\r\n<form onSubmit={addPerson}>\r\nname: <input\r\n  value={newName}\r\n  onChange={nameHandler}\r\n/><br/>\r\nnumber: <input\r\n  value={newNumber}\r\n  onChange={numberHandler}\r\n/><br/>\r\n<button type=\"submit\">add</button>\r\n</form>\r\n\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, removePerson }) => <p style={{margin:0}}>{person.name} {person.number}<button onClick={()=>removePerson(person)}>delete</button></p>\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ filter, persons, removePerson }) => {\r\n\r\n    if (filter.length > 0)\r\n        persons = persons.filter(person => (person.name.toLowerCase().includes(filter)) || person.number.includes(filter))\r\n\r\n    return (persons.map(person =>\r\n        \r\n        <Person key={person.id} person={person} removePerson={removePerson}/>\r\n    ))\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseURL = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n\r\nconst create = async newPerson => {\r\n    const persons = await getAll()\r\n    const isDuplicate = persons.some(person => {\r\n        return (person.name === newPerson.name)\r\n    })\r\n    if (isDuplicate) {\r\n        const confirmation = window.confirm(`${newPerson.name} is already added to the phonebook, replace the old number with a new one?`)\r\n        const person = persons.find(p => p.name === newPerson.name)\r\n        if (confirmation) {\r\n            const index = persons.findIndex(person)\r\n            persons[index] = newPerson\r\n            update(person.id, newPerson)\r\n        }\r\n        return persons\r\n\r\n    } else {\r\n        const request = axios.post(baseURL, newPerson)\r\n        persons.push(newPerson)\r\n        return persons\r\n            //return request.then(response => response.data)\r\n    }\r\n\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseURL}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    const request = axios.put(`${baseURL}/${id}`, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst Notification = ({ message, className }) => {\r\n    if (message === null)\r\n        return null\r\n\r\n    return (< div className={className}> {message} </div>)\r\n}\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport phonebookService from './services/persons'\nimport Notification from './components/Notification'\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNumber] = useState('')\n  const [showFiltered, setFiltered] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState({ message: null, class: null })\n\n\n  const addAll = () => {\n    phonebookService.getAll()\n      .then(storedPhonebook => {\n        setPersons(storedPhonebook)\n      })\n  }\n\n  useEffect(addAll, [])\n\n  const addPersonToList = (event) => {\n    event.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    phonebookService.create(newPerson).then(response => {\n     /*  console.log('Response from App: ', response, 'newPerson', newPerson);\n      if (JSON.stringify(response) !== JSON.stringify(newPerson) ) {\n        const indexOfElement = persons.findIndex(p => p.name === response.name)\n        console.log('Before', persons, 'Index', indexOfElement);\n        persons[indexOfElement].number = response.number\n      }\n      else {\n        persons.push(response)\n      } */\n\n      //console.log('after', persons);\n      setPersons(response)\n      setNewName('')\n      setNumber('')\n      setNotificationMessage({ message: `Added ${response.name}`, class: `notification` })\n      console.log(notificationMessage)\n      setTimeout(() => {\n        setNotificationMessage({ message: null, class: null })\n      }, 5000)\n\n    })\n  }\n\n  const removePerson = person => {\n    const confirmation = window.confirm(`delete ${person.name} ?`)\n    console.log('Confirmation', confirmation)\n    if (confirmation) {\n      phonebookService.remove(person.id)\n      setPersons(persons.filter(p => p.id !== person.id))\n    }\n  }\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setFiltered(event.target.value)\n\n  }\n\n  return (\n    <div>\n      <h1 id='Header'>Phonebook</h1>\n      <Notification message={notificationMessage.message} className={notificationMessage.class} />\n      <Filter value={showFiltered} onChange={handleFilterChange} />\n      <h3>add a new</h3>\n      <PersonForm addPerson={addPersonToList} newName={newName} nameHandler={handleNameChange} newNumber={newNumber} numberHandler={handleNumberChange} />\n      <h3>Numbers</h3>\n      <Persons filter={showFiltered} persons={persons} removePerson={removePerson} />\n    </div >\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render( < App /> , document.getElementById('root'));"],"sourceRoot":""}