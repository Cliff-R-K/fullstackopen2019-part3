{"version":3,"sources":["components/Filter.jsx","components/PersonForm.jsx","components/Person.jsx","components/Persons.jsx","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","value","onChange","react_default","a","createElement","PersonForm","addPerson","newName","nameHandler","newNumber","numberHandler","onSubmit","type","Person","person","removePerson","style","margin","name","number","onClick","Persons","filter","persons","length","toLowerCase","includes","map","components_Person","key","id","baseURL","getAll","axios","get","then","response","data","update","newObject","put","concat","services_persons","newPerson","some","window","confirm","find","p","post","catch","error","console","log","delete","Notification","message","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNumber","_useState7","_useState8","showFiltered","setFiltered","_useState9","class","_useState10","notificationMessage","setNotificationMessage","addAll","phonebookService","storedPhonebook","useEffect","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","setTimeout","alert","components_Persons","confirmation","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.56dede97.chunk.js","sourcesContent":["import React from 'react'\r\nconst Filter = ({value,onChange}) =>   \r\n<div>\r\nfilter shown with<input\r\n  value={value}\r\n  onChange={onChange}\r\n/>\r\n</div>\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, nameHandler,newNumber, numberHandler }) => \r\n\r\n<form onSubmit={addPerson}>\r\nname: <input\r\n  value={newName}\r\n  onChange={nameHandler}\r\n/><br/>\r\nnumber: <input\r\n  value={newNumber}\r\n  onChange={numberHandler}\r\n/><br/>\r\n<button type=\"submit\">add</button>\r\n</form>\r\n\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, removePerson }) => <p style={{margin:0}}>{person.name} {person.number}<button onClick={()=>removePerson(person)}>delete</button></p>\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ filter, persons, removePerson }) => {\r\n\r\n    if (filter.length > 0)\r\n        persons = persons.filter(person => (person.name.toLowerCase().includes(filter)) || person.number.includes(filter))\r\n\r\n    return (persons.map(person =>\r\n        \r\n        <Person key={person.id} person={person} removePerson={removePerson}/>\r\n    ))\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseURL = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n    return getAll().then(persons => {\r\n\r\n\r\n        const isDuplicate = persons.some(person => {\r\n            return (person.name === newPerson.name)\r\n        })\r\n        if (isDuplicate) {\r\n            const confirmation = window.confirm(`${newPerson.name} is already added to the phonebook, replace the old number with a new one?`)\r\n            if (confirmation) {\r\n                const person = persons.find(p => p.name === newPerson.name)\r\n                return update(person.id, newPerson)\r\n            } else {\r\n                return null\r\n            }\r\n        } else {\r\n            const request = axios.post(baseURL, newPerson)\r\n            return request\r\n                .then(response => response.data)\r\n                .catch(error => {\r\n                    console.log(error.response.data)\r\n                })\r\n        }\r\n    })\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseURL}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseURL}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst Notification = ({ message, className }) => {\r\n    if (message === null)\r\n        return null\r\n\r\n    return (< div className={className}> {message} </div>)\r\n}\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport phonebookService from './services/persons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNumber] = useState('')\n    const [showFiltered, setFiltered] = useState('')\n    const [notificationMessage, setNotificationMessage] = useState({ message: null, class: null })\n\n\n    const addAll = () => {\n        phonebookService.getAll().then(storedPhonebook => { setPersons(storedPhonebook) })\n    }\n\n    useEffect(addAll, [])\n\n    const addPersonToList = (event) => {\n        event.preventDefault()\n\n        const newPerson = {\n            name: newName,\n            number: newNumber\n        }\n\n        phonebookService\n        .create(newPerson)\n        .then(response => {\n            console.log('Response from App: ', response, 'newPerson', newPerson);\n            if (response) {\n                addAll()\n                console.log('after', persons);\n\n                setNotificationMessage({ message: `Added ${response.name}`, class: `notification` })\n                console.log(notificationMessage)\n                setTimeout(() => {\n                    setNotificationMessage({ message: null, class: null })\n                }, 5000)\n            }\n            setNewName('')\n            setNumber('')\n        })\n        .catch(error => {\n            setNotificationMessage({ message: error.response.data, class: 'error' })\n            setTimeout(() => {\n                setNotificationMessage({ message: null, class: null })\n            }, 5000)\n            console.log(error.response.data)\n            alert(error.response.data)\n        })\n    }\n\n    const removePerson = person => {\n        const confirmation = window.confirm(`delete ${person.name} ?`)\n        console.log('Confirmation', confirmation)\n        if (confirmation) {\n            phonebookService.remove(person.id)\n            setPersons(persons.filter(p => p.id !== person.id))\n        }\n    }\n\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n    const handleNumberChange = (event) => {\n        setNumber(event.target.value)\n    }\n    const handleFilterChange = (event) => {\n        setFiltered(event.target.value)\n\n    }\n\n    return (\n    <div>\n        <h1 id='Header'> Phonebook </h1>\n        <Notification message={notificationMessage.message} \n        className={notificationMessage.class}\n        />\n        <Filter value={showFiltered} \n        onChange={handleFilterChange}\n        />\n        <h3>add a new</h3>\n        <PersonForm addPerson={addPersonToList}\n            newName={newName}\n            nameHandler={handleNameChange}\n            newNumber={newNumber}\n            numberHandler={handleNumberChange}\n        />\n        <h3> Numbers </h3>\n        <Persons filter={showFiltered}\n            persons={persons}\n            removePerson={removePerson}\n        />\n    </div >\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render( < App /> , document.getElementById('root'));"],"sourceRoot":""}