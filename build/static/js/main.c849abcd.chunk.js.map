{"version":3,"sources":["components/Filter.jsx","components/PersonForm.jsx","components/Person.jsx","components/Persons.jsx","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","value","onChange","react_default","a","createElement","PersonForm","addPerson","newName","nameHandler","newNumber","numberHandler","onSubmit","type","Person","person","removePerson","style","margin","name","number","onClick","Persons","filter","persons","length","toLowerCase","includes","map","components_Person","key","id","baseURL","getAll","axios","get","then","response","data","create","Object","asyncToGenerator","regenerator_default","mark","_callee","newObject","request","wrap","_context","prev","next","sent","some","window","confirm","concat","find","p","abrupt","update","post","stop","_x","apply","this","arguments","put","services_persons","remove","delete","Notification","message","className","App","_useState","useState","_useState2","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNumber","_useState7","_useState8","showFiltered","setFiltered","_useState9","class","_useState10","notificationMessage","setNotificationMessage","addAll","phonebookService","storedPhonebook","useEffect","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","newPerson","console","log","setTimeout","components_Persons","confirmation","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c849abcd.chunk.js","sourcesContent":["import React from 'react'\r\nconst Filter = ({value,onChange}) =>   \r\n<div>\r\nfilter shown with<input\r\n  value={value}\r\n  onChange={onChange}\r\n/>\r\n</div>\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, nameHandler,newNumber, numberHandler }) => \r\n\r\n<form onSubmit={addPerson}>\r\nname: <input\r\n  value={newName}\r\n  onChange={nameHandler}\r\n/><br/>\r\nnumber: <input\r\n  value={newNumber}\r\n  onChange={numberHandler}\r\n/><br/>\r\n<button type=\"submit\">add</button>\r\n</form>\r\n\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, removePerson }) => <p style={{margin:0}}>{person.name} {person.number}<button onClick={()=>removePerson(person)}>delete</button></p>\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ filter, persons, removePerson }) => {\r\n\r\n    if (filter.length > 0)\r\n        persons = persons.filter(person => (person.name.toLowerCase().includes(filter)) || person.number.includes(filter))\r\n\r\n    return (persons.map(person =>\r\n        \r\n        <Person key={person.id} person={person} removePerson={removePerson}/>\r\n    ))\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseURL = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n\r\nconst create = async newObject => {\r\n    const persons = await getAll()\r\n    const isDuplicate = persons.some(person => {\r\n        return (person.name === newObject.name)\r\n    })\r\n    if (isDuplicate) {\r\n        const confirmation = window.confirm(`${newObject.name} is already added to the phonebook, replace the old number with a new one?`)\r\n        if (confirmation) {\r\n            const person = persons.find(p => p.name === newObject.name)\r\n            return update(person.id, newObject)\r\n        } else {\r\n            return null\r\n        }\r\n    } else {\r\n        const request = axios.post(baseURL, newObject)\r\n        return request.then(response => response.data)\r\n    }\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseURL}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseURL}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst Notification = ({ message, className }) => {\r\n    if (message === null)\r\n        return null\r\n\r\n    return (< div className={className}> {message} </div>)\r\n}\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport phonebookService from './services/persons'\nimport Notification from './components/Notification'\n\n\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNumber] = useState('')\n    const [showFiltered, setFiltered] = useState('')\n    const [notificationMessage, setNotificationMessage] = useState({ message: null, class: null })\n\n\n    const addAll = () => {\n        phonebookService.getAll().then(storedPhonebook => { setPersons(storedPhonebook) })\n    }\n\n    useEffect(addAll, [])\n\n    const addPersonToList = (event) => {\n        event.preventDefault()\n\n        const newPerson = {\n            name: newName,\n            number: newNumber\n        }\n\n        phonebookService.create(newPerson).then(response => {\n            console.log('Response from App: ', response, 'newPerson', newPerson);\n            if (response) {\n                addAll()\n                console.log('after', persons);\n\n                setNotificationMessage({ message: `Added ${response.name}`, class: `notification` })\n                console.log(notificationMessage)\n                setTimeout(() => {\n                    setNotificationMessage({ message: null, class: null })\n                }, 5000)\n            }\n            setNewName('')\n            setNumber('')\n\n\n        })\n    }\n\n    const removePerson = person => {\n        const confirmation = window.confirm(`delete ${person.name} ?`)\n        console.log('Confirmation', confirmation)\n        if (confirmation) {\n            phonebookService.remove(person.id)\n            setPersons(persons.filter(p => p.id !== person.id))\n        }\n    }\n\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n    const handleNumberChange = (event) => {\n        setNumber(event.target.value)\n    }\n    const handleFilterChange = (event) => {\n        setFiltered(event.target.value)\n\n    }\n\n    return (<div>\n        <h1 id='Header'> Phonebook </h1>\n        <Notification message={notificationMessage.message}\n            className={notificationMessage.class}\n        />\n        <Filter value={showFiltered}\n            onChange={handleFilterChange}\n        />\n        <h3 > add a new </h3>\n        <PersonForm addPerson={addPersonToList}\n            newName={newName}\n            nameHandler={handleNameChange}\n            newNumber={newNumber}\n            numberHandler={handleNumberChange}\n        />\n        <h3 > Numbers </h3>\n        <Persons filter={showFiltered}\n            persons={persons}\n            removePerson={removePerson}\n        />\n    </div >\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render( < App /> , document.getElementById('root'));"],"sourceRoot":""}